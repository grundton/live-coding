#N canvas 456 38 1110 1006 12;
#X obj 222 325 keyname;
#X obj 222 348 select ß;
#X obj 222 220 loadbang;
#X msg 222 244 symbol ß;
#X listbox 107 427 20 0 0 0 - - - 0;
#X obj 97 373 list store;
#X obj 59 211 keyname;
#X obj 177 374 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 59 235 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 104 289 list Meta_L;
#X obj 59 259 sel 1;
#X msg 104 265 set list \$1;
#X obj 136 717 spigot;
#X msg 107 608 1;
#X obj 175 693 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X listbox 136 794 20 0 0 0 - - - 0;
#X obj 136 770 list store;
#X obj 207 744 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 205 665 t b f b;
#X obj 104 313 t l l;
#X msg 151 607 0;
#X obj 136 867 spigot;
#X obj 175 843 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 107 632 - 1;
#X obj 151 632 + 1;
#X obj 151 656 t b f;
#X obj 35 348 loadbang;
#N canvas 63 101 524 629 l2s 0;
#X obj 37 37 inlet;
#X msg 327 196 set %s;
#X obj 235 244 t a;
#X obj 118 252 makefilename %s;
#X obj 96 62 t b a b;
#X obj 96 283 symbol;
#X msg 142 22 a b c d 1 2;
#X obj 118 158 route symbol float;
#X obj 118 186 symbol;
#X obj 96 313 outlet;
#X obj 395 192 makefilename 1%s%%s;
#X obj 395 165 symbol \$1;
#X msg 405 123 bang;
#X obj 395 89 loadbang;
#X msg 395 228 set set \, adddollsym \$1;
#X msg 235 265 set \$1%s;
#X obj 447 124 inlet;
#X obj 178 190 makefilename %g;
#N canvas 63 101 617 562 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 179 215 route bang;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 255 328 list length;
#X obj 255 350 >> 1;
#X obj 63 270 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 246 241 outlet;
#X obj 67 10 inlet;
#X msg 101 146 1;
#X msg 138 147 0;
#X text 373 66 from list-abs;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 7 0;
#X connect 2 1 11 0;
#X connect 3 0 13 0;
#X connect 3 2 2 0;
#X connect 3 2 14 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 4 0;
#X connect 7 3 5 0;
#X connect 8 1 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 12 0 0 0;
#X connect 13 0 1 1;
#X connect 14 0 1 1;
#X restore 125 116 pd drip;
#X text 367 26 from list-abs;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 15 0;
#X connect 3 0 2 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 4 1 18 0;
#X connect 4 2 1 0;
#X connect 5 0 9 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 7 1 17 0;
#X connect 8 0 3 0;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X connect 16 0 11 0;
#X connect 17 0 3 0;
#X connect 18 0 7 0;
#X restore 107 483 pd l2s;
#X listbox 107 531 20 0 0 0 - - - 0;
#X obj 107 554 symbol;
#X obj 15 782 loadbang;
#N canvas 63 101 697 774 l2s 0;
#X listbox 172 111 20 0 0 0 - - - 0;
#X msg 403 383 set %s;
#X obj 311 431 t a;
#X obj 194 439 makefilename %s;
#X obj 172 470 symbol;
#X msg 218 209 a b c d 1 2;
#X obj 194 373 symbol;
#X obj 471 379 makefilename 1%s%%s;
#X obj 471 352 symbol \$1;
#X msg 481 310 bang;
#X obj 471 276 loadbang;
#X msg 471 415 set set \, adddollsym \$1;
#X msg 311 452 set \$1%s;
#X obj 523 311 inlet;
#X obj 254 377 makefilename %g;
#N canvas 63 101 617 562 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 179 215 route bang;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 255 328 list length;
#X obj 255 350 >> 1;
#X obj 63 270 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 246 241 outlet;
#X obj 67 10 inlet;
#X msg 101 146 1;
#X msg 138 147 0;
#X text 373 66 from list-abs;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 7 0;
#X connect 2 1 11 0;
#X connect 3 0 13 0;
#X connect 3 2 2 0;
#X connect 3 2 14 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 4 0;
#X connect 7 3 5 0;
#X connect 8 1 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 12 0 0 0;
#X connect 13 0 1 1;
#X connect 14 0 1 1;
#X restore 201 303 pd drip;
#X text 443 213 from list-abs;
#X obj 194 345 route symbol float;
#X msg 172 554 add2 \$1;
#X msg 162 579 qalboff;
#X obj 172 87 t l b;
#X msg 77 267 set;
#X obj 70 435 t b b;
#X msg 70 460 set %s;
#X obj 164 710 outlet;
#X obj 172 249 t b b a b;
#X obj 173 27 inlet;
#X obj 55 201 loadbang;
#X obj 162 622 list;
#X obj 70 411 sel .;
#X connect 0 0 25 0;
#X connect 1 0 3 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 3 0 4 1;
#X connect 4 0 18 0;
#X connect 5 0 25 0;
#X connect 6 0 3 0;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 3 0;
#X connect 13 0 8 0;
#X connect 14 0 3 0;
#X connect 15 0 17 0;
#X connect 17 0 29 0;
#X connect 17 1 14 0;
#X connect 18 0 19 0;
#X connect 19 0 28 0;
#X connect 20 0 0 0;
#X connect 20 1 21 0;
#X connect 21 0 19 0;
#X connect 22 0 4 0;
#X connect 22 1 23 0;
#X connect 23 0 3 0;
#X connect 25 0 19 0;
#X connect 25 1 4 0;
#X connect 25 2 15 0;
#X connect 25 3 1 0;
#X connect 26 0 20 0;
#X connect 27 0 21 0;
#X connect 28 0 24 0;
#X connect 29 0 22 0;
#X connect 29 1 6 0;
#X restore 136 933 pd l2s;
#X listbox 136 957 20 0 0 0 - - - 0;
#N canvas 92 130 506 341 reverse 0;
#X obj 92 29 inlet;
#X obj 148 141 t l;
#X obj 92 141 list;
#X obj 152 210 list;
#X obj 152 262 outlet;
#X obj 92 54 t a b b;
#N canvas 63 101 617 562 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 179 215 route bang;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 255 328 list length;
#X obj 255 350 >> 1;
#X obj 63 270 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 246 241 outlet;
#X obj 67 10 inlet;
#X msg 101 146 1;
#X msg 138 147 0;
#X text 373 66 from list-abs;
#X obj 465 119 outlet;
#X obj 67 34 t b a;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 7 0;
#X connect 2 1 11 0;
#X connect 3 0 13 0;
#X connect 3 2 2 0;
#X connect 3 2 14 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 4 0;
#X connect 7 3 5 0;
#X connect 8 1 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 12 0 17 0;
#X connect 13 0 1 1;
#X connect 14 0 1 1;
#X connect 17 0 16 0;
#X connect 17 1 0 0;
#X restore 91 97 pd drip;
#X connect 0 0 5 0;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 5 1 2 1;
#X connect 5 2 3 1;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X restore 108 456 pd reverse;
#N canvas 92 130 506 341 reverse 0;
#X obj 92 29 inlet;
#X obj 148 141 t l;
#X obj 92 141 list;
#X obj 152 210 list;
#X obj 152 262 outlet;
#X obj 92 54 t a b b;
#N canvas 63 101 617 562 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 179 215 route bang;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 255 328 list length;
#X obj 255 350 >> 1;
#X obj 63 270 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 246 241 outlet;
#X obj 67 10 inlet;
#X msg 101 146 1;
#X msg 138 147 0;
#X text 373 66 from list-abs;
#X obj 465 119 outlet;
#X obj 67 34 t b a;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 7 0;
#X connect 2 1 11 0;
#X connect 3 0 13 0;
#X connect 3 2 2 0;
#X connect 3 2 14 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 4 0;
#X connect 7 3 5 0;
#X connect 8 1 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 12 0 17 0;
#X connect 13 0 1 1;
#X connect 14 0 1 1;
#X connect 17 0 16 0;
#X connect 17 1 0 0;
#X restore 91 97 pd drip;
#X connect 0 0 5 0;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 5 1 2 1;
#X connect 5 2 3 1;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X restore 136 905 pd reverse;
#X obj 136 1010 t a;
#X obj 136 1064 outlet;
#X msg 260 420 symbol off;
#X obj 107 584 sel ++ --;
#X obj 197 613 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 97 397 list split 2;
#X obj 136 817 list split 2;
#X msg 15 806 0 0;
#X msg 35 372 0 0;
#X obj 372 220 loadbang;
#X obj 371 373 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 371 397 sel 1;
#X obj 272 501 t a;
#X msg 371 421 symbol holdon;
#X msg 389 447 symbol holdoff;
#X obj 372 325 key;
#X floatatom 444 335 5 0 0 0 - - - 0;
#X obj 372 348 select 63;
#X listbox 237 170 5 0 0 2 KILL \$0-killsymbol \$0-killsymbol_out 0;
#X obj 370 170 tgl 19 0 \$0-hold_toggle_out \$0-hold_toggle empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 323 170 5 0 0 2 HOLD \$0-hold \$0-hold_out 0;
#X msg 372 244 63;
#X obj 284 170 bng 19 250 50 0 \$0-killbang_out \$0-killbang empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X listbox 110 130 40 0 0 2 Current\ message \$0-current_message \$0-current_message_out 0;
#X obj 265 817 s \$0-current_message;
#X obj 222 268 s \$0-killsymbol;
#X obj 223 294 r \$0-killsymbol_out;
#X obj 372 268 s \$0-hold;
#X obj 373 294 r \$0-holdout;
#X obj 402 375 s \$0-hold_toggle;
#X obj 267 396 s \$0-killbang;
#X listbox 110 170 15 0 0 2 Last\ message \$0-last_message \$0-last_message_out 0;
#X obj 265 897 s \$0-last_message;
#X obj 641 569 cnv 19 320 400 empty empty empty 20 12 0 12 #dfdfdf #404040 0;
#X obj 765 768 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 701 802 spigot;
#X msg 645 724 1;
#X msg 692 724 0;
#X obj 699 769 key;
#X floatatom 661 784 5 0 0 0 - - - 0;
#X obj 701 856 sel 97 115 100 102;
#X obj 701 880 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 731 880 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 761 880 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 791 880 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 701 832 spigot;
#X obj 765 808 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 794 808 loadbang;
#X msg 794 832 1;
#X msg 799 725 0;
#X msg 847 725 1;
#X text 781 572 example filter patch \; inside of piano1;
#X floatatom 370 148 3 0 0 0 - \$0-current_number \$0-current_number_out 0;
#X obj 645 700 sel piano1on piano1off off holdon holdoff;
#X msg 732 724 0;
#X obj 445 356 s \$0-current_number;
#X listbox 217 867 20 0 0 0 - - - 0;
#X text 621 109 This abstraction is a tool for unified management of pd abstractions using keyboard commands \; The selector listens to keystrokes for starting and end phrases ("asdf" starts and "qwer" ends commands) and activates and deactivates abstractions \; If you have several programs running that use keyboard input \, you can run into a problem \, where the same keys control two things at the same time \, which might not be what you want The goal is to manage abstractions that require keyboard input using a unified scheme \; \; Check the example patch below(grey) for ideas how to use this \; To start a keyboard piano \, you would type "++ piano1on --" . This would enable the keyboard piano to listen to text input. "++ piano1off --" would turnoff listening for the piano1. Pressing a KILL key (here: "ß" \, but you can change that) sends an off message stops the listening of all instruments completely. \; "holdon" temporarely halts all messages \, "holdoff" allows them again. \; For sending arguments \, the syntax similar to "++ piano1.tune.440--" will be used \, where the . are delimiters. \;;
#X obj 865 791 route piano1;
#X obj 865 765 list trim;
#X obj 645 606 t a a, f 42;
#X obj 865 846 list;
#X floatatom 865 895 5 0 0 0 - - - 0;
#X obj 865 870 float;
#X obj 221 372 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 221 396 sel 1;
#X obj 865 818 route tune;
#X obj 645 628 list;
#X msg 645 652 \$1;
#X obj 645 676 symbol;
#X connect 0 1 1 0;
#X connect 1 0 99 0;
#X connect 2 0 3 0;
#X connect 3 0 60 0;
#X connect 4 0 5 1;
#X connect 4 0 33 0;
#X connect 5 0 40 0;
#X connect 6 0 8 0;
#X connect 6 1 11 0;
#X connect 7 0 5 1;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 9 0;
#X connect 11 0 9 0;
#X connect 12 0 16 0;
#X connect 13 0 18 0;
#X connect 13 0 23 0;
#X connect 14 0 12 1;
#X connect 15 0 16 1;
#X connect 15 0 41 0;
#X connect 15 0 59 0;
#X connect 16 0 15 0;
#X connect 17 0 16 1;
#X connect 18 0 17 0;
#X connect 18 1 14 0;
#X connect 18 2 17 0;
#X connect 19 0 5 0;
#X connect 19 1 12 0;
#X connect 20 0 18 0;
#X connect 20 0 24 0;
#X connect 21 0 34 0;
#X connect 21 0 91 0;
#X connect 22 0 21 1;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 25 0 16 0;
#X connect 25 1 22 0;
#X connect 26 0 43 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 38 0;
#X connect 30 0 42 0;
#X connect 31 0 32 0;
#X connect 32 0 35 0;
#X connect 32 0 67 0;
#X connect 33 0 27 0;
#X connect 34 0 31 0;
#X connect 35 0 36 0;
#X connect 35 0 95 0;
#X connect 37 0 47 0;
#X connect 38 0 13 0;
#X connect 38 1 20 0;
#X connect 38 1 39 0;
#X connect 40 0 4 0;
#X connect 41 1 21 0;
#X connect 42 0 41 0;
#X connect 43 0 5 0;
#X connect 44 0 56 0;
#X connect 45 0 46 0;
#X connect 45 0 64 0;
#X connect 46 0 48 0;
#X connect 46 1 49 0;
#X connect 47 0 35 0;
#X connect 48 0 47 0;
#X connect 49 0 47 0;
#X connect 50 0 51 0;
#X connect 50 0 52 0;
#X connect 51 0 90 0;
#X connect 52 0 45 0;
#X connect 56 0 62 0;
#X connect 61 0 1 1;
#X connect 63 0 52 1;
#X connect 69 0 70 1;
#X connect 70 0 80 0;
#X connect 71 0 69 0;
#X connect 72 0 69 0;
#X connect 73 0 70 0;
#X connect 73 0 74 0;
#X connect 75 0 76 0;
#X connect 75 1 77 0;
#X connect 75 2 78 0;
#X connect 75 3 79 0;
#X connect 80 0 75 0;
#X connect 81 0 80 1;
#X connect 82 0 83 0;
#X connect 83 0 81 0;
#X connect 84 0 81 0;
#X connect 85 0 81 0;
#X connect 88 0 71 0;
#X connect 88 1 72 0;
#X connect 88 2 89 0;
#X connect 88 3 84 0;
#X connect 88 4 85 0;
#X connect 89 0 69 0;
#X connect 93 0 101 0;
#X connect 94 0 93 0;
#X connect 95 0 102 0;
#X connect 95 1 94 0;
#X connect 96 0 98 0;
#X connect 98 0 97 0;
#X connect 99 0 100 0;
#X connect 100 0 37 0;
#X connect 100 0 65 0;
#X connect 101 0 96 0;
#X connect 102 0 103 0;
#X connect 103 0 104 0;
#X connect 104 0 88 0;
#X coords 0 -1 1 1 300 100 1 100 100;
